System.register(["./index-legacy-C7g6TEdz.js","./index-legacy-BW_hwWv8.js","./index-legacy-B4cqeJ0R.js","./index-legacy-DYOp3raF.js","./use-id-legacy-C-0XbuH5.js"],(function(e,l){"use strict";var o,n,a,i,r,t,c,s,d,u,f,g,h,v,b,p,m,k,x,y,I,S,C,w,T,j,B;return{setters:[e=>{o=e.af,n=e.K,a=e.d,i=e.r,r=e.al,t=e.c,c=e.w,s=e.am,d=e.q,u=e.an,f=e.g,g=e.R,h=e.a0,v=e.S,b=e.J,p=e.ao,m=e.ap,k=e.$,x=e.ai,y=e.aq,I=e.P,S=e.X},e=>{C=e.u},e=>{w=e.L},e=>{T=e.f,j=e.F},e=>{B=e.u}],execute:function(){const l=Symbol(),[L,V,R]=n("list"),q={error:Boolean,offset:g(300),loading:Boolean,disabled:Boolean,finished:Boolean,scroller:Object,errorText:String,direction:h("down"),loadingText:String,finishedText:String,immediateCheck:v};var A=a({name:L,props:q,emits:["load","update:error","update:loading"],setup(e,{emit:n,slots:a}){const g=i(e.loading),h=i(),v=i(),k=o(l,null),x=r(h),y=t((()=>e.scroller||x.value)),I=()=>{b((()=>{if(g.value||e.finished||e.disabled||e.error||!1===(null==k?void 0:k.value))return;const{direction:l}=e,o=+e.offset,a=p(y);if(!a.height||m(h))return;let i=!1;const r=p(v);i="up"===l?a.top-r.top<=o:r.bottom-a.bottom<=o,i&&(g.value=!0,n("update:loading",!0),n("load"))}))},S=()=>{if(e.finished){const l=a.finished?a.finished():e.finishedText;if(l)return f("div",{class:V("finished-text")},[l])}},T=()=>{n("update:error",!1),I()},j=()=>{if(e.error){const l=a.error?a.error():e.errorText;if(l)return f("div",{role:"button",class:V("error-text"),tabindex:0,onClick:T},[l])}},B=()=>{if(g.value&&!e.finished&&!e.disabled)return f("div",{class:V("loading")},[a.loading?a.loading():f(w,{class:V("loading-icon")},{default:()=>[e.loadingText||R("loading")]})])};return c((()=>[e.loading,e.finished,e.error]),I),k&&c(k,(e=>{e&&I()})),s((()=>{g.value=e.loading})),d((()=>{e.immediateCheck&&I()})),C({check:I}),u("scroll",I,{target:y,passive:!0}),()=>{var l;const o=null==(l=a.default)?void 0:l.call(a),n=f("div",{ref:v,class:V("placeholder")},null);return f("div",{ref:h,role:"feed",class:V(),"aria-busy":g.value},["down"===e.direction?o:n,B(),S(),j(),"up"===e.direction?o:n])}}});e("L",k(A));const[F,K,O]=n("search"),$=x({},T,{label:String,shape:h("square"),leftIcon:h("search"),clearable:v,actionText:String,background:String,showAction:Boolean});var J=a({name:F,props:$,emits:["blur","focus","clear","search","cancel","clickInput","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:l,slots:o,attrs:n}){const a=B(),r=i(),t=()=>{o.action||(l("update:modelValue",""),l("cancel"))},c=o=>{13===o.keyCode&&(S(o),l("search",e.modelValue))},s=()=>e.id||`${a}-input`,d=()=>{if(o.label||e.label)return f("label",{class:K("label"),for:s()},[o.label?o.label():e.label])},u=()=>{if(e.showAction){const l=e.actionText||O("cancel");return f("div",{class:K("action"),role:"button",tabindex:0,onClick:t},[o.action?o.action():l])}},g=e=>l("blur",e),h=e=>l("focus",e),v=e=>l("clear",e),b=e=>l("clickInput",e),p=e=>l("clickLeftIcon",e),m=e=>l("clickRightIcon",e),k=Object.keys(T),w=()=>{const a=x({},n,y(e,k),{id:s()});return f(j,I({ref:r,type:"search",class:K("field",{"with-message":a.errorMessage}),border:!1,onBlur:g,onFocus:h,onClear:v,onKeypress:c,onClickInput:b,onClickLeftIcon:p,onClickRightIcon:m,"onUpdate:modelValue":e=>l("update:modelValue",e)},a),y(o,["left-icon","right-icon"]))};return C({focus:()=>{var e;return null==(e=r.value)?void 0:e.focus()},blur:()=>{var e;return null==(e=r.value)?void 0:e.blur()}}),()=>{var l;return f("div",{class:K({"show-action":e.showAction}),style:{background:e.background}},[null==(l=o.left)?void 0:l.call(o),f("div",{class:K("content",e.shape)},[d(),w()]),u()])}}});e("S",k(J))}}}));
