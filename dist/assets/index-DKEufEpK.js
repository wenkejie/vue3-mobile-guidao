import{_ as M}from"./Container.vue_vue_type_script_setup_true_lang-GLuEUgiL.js";import{d as Q,r as o,A as R,B as j,e as w,f as m,o as p,p as r,g as l,h as a,k as A,m as q,z as y,F as E,j as C}from"./index-CIq-oMdo.js";import"./index-C0-qw_Ps.js";import{C as H}from"./index-BheCoyUB.js";import{S as T,L as W}from"./index-CmZ3u7cQ.js";import{C as Y}from"./index-gofcAkLv.js";import{D as G,a as J}from"./index-OEG6GTi1.js";import"./index-CfBzFnno.js";import{b as K}from"./index-Da8Krel5.js";import{I as O}from"./index-D3dsmj4Q.js";import{_ as X}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-scope-id-sANgzUDS.js";import"./index-s7_3JXei.js";import"./index-DEoV0_af.js";import"./index-CCszsqzv.js";import"./use-id-BlRh9Qoc.js";const Z={class:"search-grid"},ee={class:"w-240"},ne={class:"inline-block v-middle"},oe={class:"block overflow-hidden whitespace-nowrap line-height-none",style:{"text-overflow":"ellipsis",width:"200px"}},te={class:"mt-5 block c-gray line-height-none font-size-12"},ae=Q({__name:"index",setup(se){const i=o(!1),_=o(!1);o("");const $=o(null);o(null),o(0),o(!1),o(!1);const k=[{text:"未查阅",value:!1},{text:"已查阅",value:!0}],S=R({form:{storeType:1},queryParams:{Skip:0,isAdmin:!1,isFinished:!1,PageSize:20,SearchQuery:""}}),{queryParams:s,form:le,rules:ie}=j(S),h=o([]);o("");function b(){d()}function d(){i.value=!0,K(s.value).then(n=>{n.statusCode===200&&(h.value=n.data.list,i.value=!1,_.value=!0)})}function F(){s.value={Skip:0,isAdmin:!1,isFinished:!1,PageSize:20,SearchQuery:""},d()}function g(){d()}const x=o(""),c=o(!1),v=n=>"".concat(n.getFullYear(),"-").concat(n.getMonth()+1,"-").concat(n.getDate());function D(n){const[t,f]=n;c.value=!1,x.value="".concat(v(t)," ~ ").concat(v(f))}const u=o("/wjcymobile");function I(n){return n===".png"||n===".jpg"?"".concat(u.value,"/img/CarbonImage.png"):n===".word"?"".concat(u.value,"/img/CarbonDocumentWordProcessor.png"):"".concat(u.value,"/img/CarbonDocumentPdf.png")}return d(),(n,t)=>{const f=T,V=G,B=J,L=O,P=Y,N=W,U=H,z=M;return p(),w(z,{class:"my-15 pb-52"},{default:m(()=>[r("div",Z,[l(f,{modelValue:a(s).SearchQuery,"onUpdate:modelValue":t[0]||(t[0]=e=>a(s).SearchQuery=e),"show-action":"",label:"文件名",onCancel:F,onSearch:g,placeholder:"请输入搜索关键词"},null,8,["modelValue"]),l(B,{ref_key:"menuRef",ref:$},{default:m(()=>[l(V,{modelValue:a(s).isFinished,"onUpdate:modelValue":t[1]||(t[1]=e=>a(s).isFinished=e),options:k,onChange:g},null,8,["modelValue"])]),_:1},512)]),l(N,{loading:a(i),"onUpdate:loading":t[2]||(t[2]=e=>C(i)?i.value=e:null),finished:a(_),"finished-text":"没有更多了",onLoad:b},{default:m(()=>[(p(!0),A(E,null,q(a(h),e=>(p(),w(P,{key:e,value:"内容","is-link":"",title:e.documentName,center:"",to:"/transform/detail?documentId=".concat(e.documentId,"&id=").concat(e.id,"&name=").concat(e.documentName,"&isFinished=").concat(!!e.isFinished)},{title:m(()=>[r("div",ee,[l(L,{width:"2.6rem",height:"2.6rem",fit:"contain",position:"left",src:I(e.documentExtension),class:"mr-5 inline-block v-middle"},null,8,["src"]),r("div",ne,[r("span",oe,y(e.documentName),1),r("span",te,"截止日:"+y(n.$formatDate(e.endDate,"yyyy-MM-dd HH:mm")),1)])])]),_:2},1032,["title","to"]))),128))]),_:1},8,["loading","finished"]),l(U,{show:a(c),"onUpdate:show":t[3]||(t[3]=e=>C(c)?c.value=e:null),type:"range",onConfirm:D},null,8,["show"])]),_:1})}}}),Se=X(ae,[["__scopeId","data-v-1d7466cd"]]);export{Se as default};
