System.register(["./index-legacy-BmHbVtLw.js","./index-legacy-DjXLRpCA.js","./index-legacy-1OqzN4Us.js","./use-id-legacy-Dd4fgc7n.js"],(function(e,o){"use strict";var t,l,a,s,n,r,i,d,u,p,c,v,h,m,w,f,y,g,b,x,C,O,k,P,z,S,V,$,j,I,T,W,R;return{setters:[e=>{t=e.K,l=e.d,a=e.r,s=e.a3,n=e.al,r=e.c,i=e.V,d=e.au,u=e.an,p=e.g,c=e.S,v=e.T,h=e.R,m=e.a0,w=e.ao,f=e.av,y=e.Q,g=e.ak,b=e.ah,x=e.aw,C=e.ax,O=e.aj,k=e.ay,P=e.E,z=e.O,S=e.P,V=e.az,$=e.I,j=e.$},e=>{I=e.u,T=e.P},e=>{W=e.C},e=>{R=e.u}],execute:function(){const[o,E]=t("dropdown-menu"),B={overlay:c,zIndex:v,duration:h(.2),direction:m("down"),activeColor:String,autoLocate:Boolean,closeOnClickOutside:c,closeOnClickOverlay:c,swipeThreshold:v},L=Symbol(o);var A=l({name:o,props:B,setup(e,{slots:o}){const t=R(),l=a(),c=a(),v=a(0),{children:h,linkChildren:m}=s(L),g=n(l),b=r((()=>h.some((e=>e.state.showWrapper)))),x=r((()=>e.swipeThreshold&&h.length>+e.swipeThreshold)),C=r((()=>{if(b.value&&i(e.zIndex))return{zIndex:+e.zIndex+1}})),O=()=>{h.forEach((e=>{e.toggle(!1)}))},k=()=>{if(c.value){const o=w(c);"down"===e.direction?v.value=o.bottom:v.value=f.value-o.top}},P=(o,l)=>{const{showPopup:a}=o.state,{disabled:s,titleClass:n}=o;return p("div",{id:`${t}-${l}`,role:"button",tabindex:s?void 0:0,class:[E("item",{disabled:s,grow:x.value}),{[y]:!s}],onClick:()=>{var e;s||(e=l,h.forEach(((o,t)=>{t===e?o.toggle():o.state.showPopup&&o.toggle(!1,{immediate:!0})})))}},[p("span",{class:[E("title",{down:a===("down"===e.direction),active:a}),n],style:{color:a?e.activeColor:""}},[p("div",{class:"van-ellipsis"},[o.renderTitle()])])])};return I({close:O}),m({id:t,props:e,offset:v,updateOffset:k}),d(l,(()=>{e.closeOnClickOutside&&O()})),u("scroll",(()=>{b.value&&k()}),{target:g,passive:!0}),()=>{var e;return p("div",{ref:l,class:E()},[p("div",{ref:c,style:C.value,class:E("bar",{opened:b.value,scrollable:x.value})},[h.map(P)]),null==(e=o.default)?void 0:e.call(o)])}}});const[D,K]=t("dropdown-item"),Q={title:String,options:C(),disabled:Boolean,teleport:[String,Object],lazyRender:c,modelValue:O,titleClass:O};var U=l({name:D,inheritAttrs:!1,props:Q,emits:["open","opened","close","closed","change","update:modelValue"],setup(e,{emit:o,slots:t,attrs:l}){const s=g({showPopup:!1,transition:!0,showWrapper:!1}),n=a(),{parent:r,index:i}=b(L);if(!r)return;const d=e=>()=>o(e),u=d("open"),c=d("close"),v=d("opened"),h=()=>{s.showWrapper=!1,o("closed")},m=o=>{e.teleport&&o.stopPropagation()},f=t=>{const{activeColor:l}=r.props,{disabled:a}=t,n=t.value===e.modelValue;return p(W,{role:"menuitem",key:String(t.value),icon:t.icon,title:t.text,class:K("option",{active:n,disabled:a}),style:{color:n?l:""},tabindex:n?0:-1,clickable:!a,onClick:()=>{a||(s.showPopup=!1,t.value!==e.modelValue&&(o("update:modelValue",t.value),o("change",t.value)))}},{value:()=>{if(n)return p($,{class:K("icon"),color:a?void 0:l,name:"success"},null)}})},y=()=>{const{offset:o}=r,{autoLocate:a,zIndex:d,overlay:y,duration:g,direction:b,closeOnClickOverlay:x}=r.props,C=V(d);let O=o.value;if(a&&n.value){const e=k(n.value);e&&(O-=w(e).top)}return"down"===b?C.top=`${O}px`:C.bottom=`${O}px`,P(p("div",S({ref:n,style:C,class:K([b]),onClick:m},l),[p(T,{show:s.showPopup,"onUpdate:show":e=>s.showPopup=e,role:"menu",class:K("content"),overlay:y,position:"down"===b?"top":"bottom",duration:s.transition?g:0,lazyRender:e.lazyRender,overlayStyle:{position:"absolute"},"aria-labelledby":`${r.id}-${i.value}`,closeOnClickOverlay:x,onOpen:u,onClose:c,onOpened:v,onClosed:h},{default:()=>{var o;return[e.options.map(f),null==(o=t.default)?void 0:o.call(t)]}})]),[[z,s.showWrapper]])};return I({state:s,toggle:(e=!s.showPopup,o={})=>{e!==s.showPopup&&(s.showPopup=e,s.transition=!o.immediate,e&&(r.updateOffset(),s.showWrapper=!0))},renderTitle:()=>{if(t.title)return t.title();if(e.title)return e.title;const o=e.options.find((o=>o.value===e.modelValue));return o?o.text:""}}),()=>e.teleport?p(x,{to:e.teleport},{default:()=>[y()]}):y()}});e("D",j(U)),e("a",j(A))}}}));
