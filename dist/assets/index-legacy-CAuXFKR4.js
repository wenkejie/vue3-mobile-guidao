System.register(["./index-legacy-9OZgdCRp.js","./use-scope-id-legacy-CIAYnXz1.js","./index-legacy-ad9KPgzi.js","./index-legacy-5fz56Dyj.js","./use-id-legacy-Bsk_U-rn.js"],(function(e,o){"use strict";var t,l,a,s,n,i,r,d,p,u,c,v,h,m,w,f,g,y,b,x,C,O,P,k,z,S,j,I,T,V,W,$,A;return{setters:[e=>{t=e.L,l=e.d,a=e.r,s=e.a6,n=e.am,i=e.c,r=e.W,d=e.av,p=e.ao,u=e.g,c=e.T,v=e.U,h=e.S,m=e.a3,w=e.ap,f=e.aw,g=e.R,y=e.A,b=e.aj,x=e.ax,C=e.ay,O=e.al,P=e.az,k=e.G,z=e.P,S=e.Q,j=e.aA,I=e.I,T=e.a0},e=>{V=e.u},e=>{W=e.C},e=>{$=e.P},e=>{A=e.u}],execute:function(){const[o,R]=t("dropdown-menu"),L={overlay:c,zIndex:v,duration:h(.2),direction:m("down"),activeColor:String,autoLocate:Boolean,closeOnClickOutside:c,closeOnClickOverlay:c,swipeThreshold:v},B=Symbol(o);var E=l({name:o,props:L,setup(e,{slots:o}){const t=A(),l=a(),c=a(),v=a(0),{children:h,linkChildren:m}=s(B),y=n(l),b=i((()=>h.some((e=>e.state.showWrapper)))),x=i((()=>e.swipeThreshold&&h.length>+e.swipeThreshold)),C=i((()=>{if(b.value&&r(e.zIndex))return{zIndex:+e.zIndex+1}})),O=()=>{h.forEach((e=>{e.toggle(!1)}))},P=()=>{if(c.value){const o=w(c);"down"===e.direction?v.value=o.bottom:v.value=f.value-o.top}},k=(o,l)=>{const{showPopup:a}=o.state,{disabled:s,titleClass:n}=o;return u("div",{id:`${t}-${l}`,role:"button",tabindex:s?void 0:0,class:[R("item",{disabled:s,grow:x.value}),{[g]:!s}],onClick:()=>{var e;s||(e=l,h.forEach(((o,t)=>{t===e?o.toggle():o.state.showPopup&&o.toggle(!1,{immediate:!0})})))}},[u("span",{class:[R("title",{down:a===("down"===e.direction),active:a}),n],style:{color:a?e.activeColor:""}},[u("div",{class:"van-ellipsis"},[o.renderTitle()])])])};return V({close:O}),m({id:t,props:e,offset:v,updateOffset:P}),d(l,(()=>{e.closeOnClickOutside&&O()})),p("scroll",(()=>{b.value&&P()}),{target:y,passive:!0}),()=>{var e;return u("div",{ref:l,class:R()},[u("div",{ref:c,style:C.value,class:R("bar",{opened:b.value,scrollable:x.value})},[h.map(k)]),null==(e=o.default)?void 0:e.call(o)])}}});const[U,D]=t("dropdown-item"),G={title:String,options:C(),disabled:Boolean,teleport:[String,Object],lazyRender:c,modelValue:O,titleClass:O};var Q=l({name:U,inheritAttrs:!1,props:G,emits:["open","opened","close","closed","change","update:modelValue"],setup(e,{emit:o,slots:t,attrs:l}){const s=y({showPopup:!1,transition:!0,showWrapper:!1}),n=a(),{parent:i,index:r}=b(B);if(!i)return;const d=e=>()=>o(e),p=d("open"),c=d("close"),v=d("opened"),h=()=>{s.showWrapper=!1,o("closed")},m=o=>{e.teleport&&o.stopPropagation()},f=t=>{const{activeColor:l}=i.props,{disabled:a}=t,n=t.value===e.modelValue;return u(W,{role:"menuitem",key:String(t.value),icon:t.icon,title:t.text,class:D("option",{active:n,disabled:a}),style:{color:n?l:""},tabindex:n?0:-1,clickable:!a,onClick:()=>{a||(s.showPopup=!1,t.value!==e.modelValue&&(o("update:modelValue",t.value),o("change",t.value)))}},{value:()=>{if(n)return u(I,{class:D("icon"),color:a?void 0:l,name:"success"},null)}})},g=()=>{const{offset:o}=i,{autoLocate:a,zIndex:d,overlay:g,duration:y,direction:b,closeOnClickOverlay:x}=i.props,C=j(d);let O=o.value;if(a&&n.value){const e=P(n.value);e&&(O-=w(e).top)}return"down"===b?C.top=`${O}px`:C.bottom=`${O}px`,k(u("div",S({ref:n,style:C,class:D([b]),onClick:m},l),[u($,{show:s.showPopup,"onUpdate:show":e=>s.showPopup=e,role:"menu",class:D("content"),overlay:g,position:"down"===b?"top":"bottom",duration:s.transition?y:0,lazyRender:e.lazyRender,overlayStyle:{position:"absolute"},"aria-labelledby":`${i.id}-${r.value}`,closeOnClickOverlay:x,onOpen:p,onClose:c,onOpened:v,onClosed:h},{default:()=>{var o;return[e.options.map(f),null==(o=t.default)?void 0:o.call(t)]}})]),[[z,s.showWrapper]])};return V({state:s,toggle:(e=!s.showPopup,o={})=>{e!==s.showPopup&&(s.showPopup=e,s.transition=!o.immediate,e&&(i.updateOffset(),s.showWrapper=!0))},renderTitle:()=>{if(t.title)return t.title();if(e.title)return e.title;const o=e.options.find((o=>o.value===e.modelValue));return o?o.text:""}}),()=>e.teleport?u(x,{to:e.teleport},{default:()=>[g()]}):g()}});e("D",T(Q)),e("a",T(E))}}}));
