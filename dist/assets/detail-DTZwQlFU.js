import{_ as D}from"./Container.vue_vue_type_script_setup_true_lang-CasoIHbs.js";import{d as Z,r as n,a as z,e as G,f as r,o as Y,p as _,g as a,v as b,h as s,j as u}from"./index-TK-srSu3.js";import{T as $}from"./index-ysAVPPc-.js";import"./index-DokfiJJG.js";import{C as S}from"./index-CcWJd2NX.js";import{C as A}from"./index-CRh_-Eff.js";import"./index-CsWnH0xd.js";import{F as B}from"./index-CwVMRh3z.js";import{g as E,G as L}from"./index-DTASQ6b-.js";import{B as O}from"./index-DzEt_uSR.js";import{F as j}from"./index-ej9DYXD3.js";import{P as Q}from"./index-BWMpvfcB.js";import"./index-BOP6WUpe.js";import"./mount-component-B0NNVuVn.js";import"./use-id-Cw2yFWR7.js";const R={class:"mt-20 text-right"},W={ref:"iframe",class:"mt-10",src:"http://172.20.153.9:8012/onlinePreview?url=aHR0cDovLzE3Mi4xNi43MC41MDo1MDAxL2FwaS9kb2N1bWVudC8yY2FkNmY5MC04YjUzLTQ3MTUtOTlmMS0wNzU3OGE1MTE5NDMvb2ZmaWNldmlld2VyP3Rva2VuPTFiYzFlZjQxLThmYjQtNDJiZC05OTVmLTcxZmJhYzU2MGFkNyZpc1ZlcnNpb249ZmFsc2UmZnVsbGZpbGVuYW1lPea1i+ivlS5qcGc=",width:"100%",height:"600px",style:{border:"1px solid #ddd"},frameborder:"0",allowfullscreen:""},J=_("h3",{class:"text-center"},"下发设置",-1),q={class:"m-15"},ce=Z({__name:"detail",setup(H){const p=n(0),i=n([]),h=n([]);n([]),z(),n({src:"https://m.baidu.com/"});const w=n({}),d=n(!1),c=n(!1);n(!0),n(""),n(""),n([]),n(0);const f=n(!1);function N(){f.value=!0}function k(t){console.log("submit",t)}const x=t=>"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate());function g(t){const[e,l]=t;d.value=!1,w.value.dateTime="".concat(x(e)," ~ ").concat(x(l))}function y(){E({parentId:"13"}).then(t=>{t.forEach(e=>{h.value.push({text:e.fullName,id:e.id})})})}async function T(t){return new Promise(e=>{setTimeout(()=>{L({DepartmentId:t,Skip:1,PageSize:50}).then(l=>{const m=[];l.forEach(v=>{m.push({text:v.firstName,id:Number(v.userName)})}),console.log(m,"userArr"),e(m)})},1e3)})}async function V(t){p.value=t;const e=h.value[t];if(!e.children){const l=await T(e.id);e.children=l}}function U(t){const e=[...i.value],l=e.indexOf(Number(t.id));return l==-1?(e.push(t.id),!1):(e.splice(l,1),console.log(i.value,"activeIds.value"),!1)}return y(),(t,e)=>{const l=O,m=B,v=A,F=j,C=Q,I=S,M=$,P=D;return Y(),G(P,null,{default:r(()=>[_("div",R,[a(l,{type:"primary",class:"important-mr-10",size:"small",onClick:N},{default:r(()=>[b("下发")]),_:1}),a(l,{type:"warning",size:"small",to:"/file/createFrom"},{default:r(()=>[b("答题")]),_:1})]),_("iframe",W,null,512),a(C,{show:s(f),"onUpdate:show":e[4]||(e[4]=o=>u(f)?f.value=o:null),position:"bottom",title:"下发设置",style:{width:"100%",height:"80%"}},{default:r(()=>[J,a(F,{onSubmit:k},{default:r(()=>[a(v,{inset:""},{default:r(()=>[a(m,{modelValue:s(w).dateTime,"onUpdate:modelValue":e[0]||(e[0]=o=>s(w).dateTime=o),"is-link":"",readonly:"",name:"datePicker",label:"时间选择",placeholder:"点击选择时间",onClick:e[1]||(e[1]=o=>d.value=!0)},null,8,["modelValue"]),a(m,{modelValue:s(i),"onUpdate:modelValue":e[2]||(e[2]=o=>u(i)?i.value=o:null),"is-link":"",readonly:"",name:"persons",label:"人员选择",placeholder:"点击下发人员",onClick:e[3]||(e[3]=o=>{c.value=!0})},null,8,["modelValue"])]),_:1}),_("div",q,[a(l,{round:"",block:"",type:"primary","native-type":"submit"},{default:r(()=>[b(" 提交 ")]),_:1})])]),_:1})]),_:1},8,["show"]),a(I,{show:s(d),"onUpdate:show":e[5]||(e[5]=o=>u(d)?d.value=o:null),type:"range",onConfirm:g},null,8,["show"]),a(C,{show:s(c),"onUpdate:show":e[8]||(e[8]=o=>u(c)?c.value=o:null),position:"bottom"},{default:r(()=>[a(M,{"active-id":s(i),"onUpdate:activeId":e[6]||(e[6]=o=>u(i)?i.value=o:null),"main-active-index":s(p),"onUpdate:mainActiveIndex":e[7]||(e[7]=o=>u(p)?p.value=o:null),items:s(h),onClickNav:V,onClickItem:U},null,8,["active-id","main-active-index","items"])]),_:1},8,["show"])]),_:1})}}});export{ce as default};
