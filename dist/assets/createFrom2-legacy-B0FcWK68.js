System.register(["./index-legacy-9OZgdCRp.js","./index-legacy-BgMNFsiw.js","./index-legacy-ad9KPgzi.js","./index-legacy-DxspYRJU.js","./index-legacy-CAuXFKR4.js","./index-legacy-BxvE3bsm.js","./index-legacy-BAGLBGCn.js","./use-scope-id-legacy-CIAYnXz1.js","./use-id-legacy-Bsk_U-rn.js","./index-legacy-5fz56Dyj.js"],(function(e,n){"use strict";var t,l,i,s,a,o,u,c,d,r,p,v,y,g,m,_,q,f,k,x,w,h,j,C,V,b;return{setters:[e=>{t=e.d,l=e.r,i=e.k,s=e.h,a=e.e,o=e.C,u=e.p,c=e.D,d=e.g,r=e.f,p=e.E,v=e.o,y=e.F,g=e.m,m=e.z,_=e.G,q=e.H,f=e.j,k=e.J,x=e.I},e=>{w=e.C},null,e=>{h=e.F},e=>{j=e.D,C=e.a},e=>{V=e.F},e=>{b=e.L},null,null,null],execute:function(){const n={class:"form-create-wrap"},F={class:"wrap"},U={class:"content-wrap"},S={class:"q-wrap"},I=["onClick"],L={class:"drap-area"},z={key:0,class:"q-item"},A={key:0,class:"icon-radio"},D=["onUpdate:modelValue"],E={key:0,class:"q-radio"},J={key:0,class:"icon-radio"},N=["onFocus"],O={key:1,class:"q-item text-wrap"},T={key:2,class:"q-item option-wrap pt10"};e("default",t({__name:"createFrom2",setup(e){const t=l(!1);l(!1);const G=l(!1),H=l([{value:"单选题",text:"单选题"},{value:"多选题",text:"多选题"},{value:"文本题",text:"文本题"}]),$=l(["cn","en","kr","jp","fr","de","ru","sp","po","it","nl","id","tr","thai","zh","fa","ro","ar"]),B=l(["中文","英语","韩语","日语","法语","德语","俄语","西班牙语","葡萄牙语","意大利语","荷兰语","印度语","土耳其语","泰语","繁体中文","波斯语","罗马尼亚语","阿拉伯语"]);l("英语"),l("中文");const K=l(["中文"]);l(!1),l("单选题");const M=l("添加选项");l([0,1]),l([5,10]),l([]);const P=l({display_name:"",name:[{questionnaire_name:"",desc:"",language:"cn"}],repeat_submit:!1,question:[{question_id:1,types:"单选题",is_required:!1,content:[{language:"cn",title:"",answer:[{answer_id:1,description:"选项1"}],line_answer:{line_value:1,line_end_value:5,line_tag:"",line_end_tag:""},text_answer:""}]}]});l(!0);const Q=l(0);function R(){t.value=!1}function W({relatedContext:e,draggedContext:n}){const t=e.index,l=n.index;e.element.question_id=l+1,n.element.question_id=t+1}function X(e){const n=e.target.classList;n.contains("add-list")||n.contains("el-icon-plus")||(Q.value="title")}function Y(e,n){!function(e){const n=e.length?Number.parseInt(e[e.length-1].description.substr(2))+1:1,t=`选项${n}`;e.push({answer_id:e.length+1,description:t}),k((()=>{const e=document.querySelectorAll(".radio-input");e[e.length-1].focus()}))}(P.value.question[e].content[n].answer)}function Z(){const e=K.value.map((e=>$.value[B.value.indexOf(e)])).map((e=>({language:e,title:"",answer:[{answer_id:1,description:"选项1"}],line_answer:{line_value:1,line_end_value:5,line_tag:"",line_end_tag:""},text_answer:""}))),n={question_id:P.value.question.length+1,types:"单选题",is_required:!1,content:e};P.value.question.push(n),Q.value=P.value.question.length-1}function ee(e){console.log("submit",JSON.stringify(P.value))}return l(!1),(e,l)=>{const k=b,$=x,B=j,K=C,ne=h,te=w,le=p("draggable"),ie=V;return v(),i("div",n,[s(G)?(v(),a(k,{key:0,type:"spinner"})):o("",!0),u("div",F,[u("div",U,[u("div",{class:c(["item title",{"title-focus":"title"===s(Q)}]),onClick:X},[s(P).question[0].length?o("",!0):(v(),i("div",{key:0,class:"add-list",onClick:Z},[d($,{name:"plus"})]))],2),u("div",S,[d(ie,{onSubmit:ee},{default:r((()=>[(v(!0),i(y,null,g(s(P).question,((n,p)=>(v(),a(le,{key:p,list:s(P).question,move:W,onStart:l[1]||(l[1]=e=>t.value=!0),onEnd:R},{default:r((()=>[u("div",{class:c(["q-li",{"q-li-focus":s(Q)===p}]),onClick:e=>function(e,n){const t=e.target.classList;t.contains("el-icon-delete")||t.contains("icon-copy")||Q.value===n||(Q.value=n)}(e,p)},[u("div",L,[d($,{name:"drag"})]),(v(!0),i(y,null,g(n.content,((t,k)=>(v(),i("div",{key:k},[d(te,{inset:""},{default:r((()=>[d(ne,{modelValue:t.title,"onUpdate:modelValue":e=>t.title=e,class:"form-cell-group",label:"问题：","label-width":"auto",center:"",clearable:"",placeholder:"请输入问题",onFocus:e.autoText,onInput:e.autoText},{button:r((()=>[s(Q)===p?(v(),a(K,{key:0},{default:r((()=>[d(B,{modelValue:n.types,"onUpdate:modelValue":e=>n.types=e,options:s(H)},null,8,["modelValue","onUpdate:modelValue","options"])])),_:2},1024)):o("",!0)])),_:2},1032,["modelValue","onUpdate:modelValue","onFocus","onInput"]),["下拉列表","单选题","多选题"].includes(n.types)?(v(),i("div",z,[(v(!0),i(y,null,g(t.answer,((e,t)=>(v(),i("div",{key:t,class:"q-radio"},[["下拉列表","优先级"].includes(n.types)?(v(),i("div",A,m(t+1)+".",1)):(v(),i("div",{key:1,class:c(["icon-radio",{"icon-cirle":"单选题"===n.types,"icon-square":"多选题"===n.types}])},null,2)),_(u("input",{"onUpdate:modelValue":n=>e.description=n,class:"radio-input"},null,8,D),[[q,e.description]]),s(Q)===p?(v(),a($,{key:2,name:"cross",onClick:e=>function(e,n,t){P.value.question[e].content[n].answer.splice(t,1)}(p,k,t)},null,8,["onClick"])):o("",!0)])))),128)),s(Q)===p?(v(),i("div",E,[["下拉列表","优先级"].includes(n.types)?(v(),i("div",J,m(t.answer.length+1)+".",1)):(v(),i("div",{key:1,class:c(["icon-radio",{"icon-cirle":"单选题"===n.types,"icon-square":"多选题"===n.types}])},null,2)),_(u("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>f(M)?M.value=e:null),class:"radio-add",onFocus:e=>Y(p,k)},null,40,N),[[q,s(M)]])])):o("",!0)])):o("",!0),"文本题"===n.types?(v(),i("div",O,"文本回答")):o("",!0),s(Q)===p?(v(),i("div",T,[d($,{name:"delete",onClick:e=>{return n=p,P.value.question.splice(n,1),void(Q.value=0===n&&P.value.question.length>0?n:n-1);var n}},null,8,["onClick"])])):o("",!0)])),_:2},1024)])))),128))],10,I)])),_:2},1032,["list"])))),128))])),_:1})])])])])}}}))}}}));
