System.register(["./index-legacy-9OZgdCRp.js","./index-legacy-BgMNFsiw.js","./index-legacy-ad9KPgzi.js","./index-legacy-DxspYRJU.js","./index-legacy-BxvE3bsm.js","./index-legacy-BAGLBGCn.js","./use-scope-id-legacy-CIAYnXz1.js","./use-id-legacy-Bsk_U-rn.js"],(function(e,n){"use strict";var t,l,i,s,a,o,u,c,d,r,p,v,g,y,_,m,f,q,x,k,w,h,j,C;return{setters:[e=>{t=e.d,l=e.r,i=e.k,s=e.h,a=e.e,o=e.C,u=e.p,c=e.D,d=e.g,r=e.f,p=e.E,v=e.o,g=e.F,y=e.m,_=e.z,m=e.G,f=e.H,q=e.j,x=e.J,k=e.I},e=>{w=e.C},null,e=>{h=e.F},e=>{j=e.F},e=>{C=e.L},null,null],execute:function(){const n={class:"form-create-wrap"},b={class:"wrap"},F={class:"content-wrap"},V={class:"q-wrap"},S=["onClick"],U={class:"drap-area"},I={key:0,class:"icon-radio"},L=["onUpdate:modelValue"],z={key:0,class:"q-radio"},A={key:0,class:"icon-radio"},E=["onFocus"];e("default",t({__name:"createFrom",setup(e){const t=l(!1);l(!1);const J=l(!1);l([{value:"单选题",text:"单选题"},{value:"多选题",text:"多选题"},{value:"文本题",text:"文本题"}]);const N=l(["cn","en","kr","jp","fr","de","ru","sp","po","it","nl","id","tr","thai","zh","fa","ro","ar"]),O=l(["中文","英语","韩语","日语","法语","德语","俄语","西班牙语","葡萄牙语","意大利语","荷兰语","印度语","土耳其语","泰语","繁体中文","波斯语","罗马尼亚语","阿拉伯语"]);l("英语"),l("中文");const T=l(["中文"]);l(!1),l("单选题");const D=l("添加选项");l([0,1]),l([5,10]),l([]);const G=l({display_name:"",name:[{questionnaire_name:"",desc:"",language:"cn"}],repeat_submit:!1,question:[{question_id:1,types:"单选题",is_required:!1,content:[{language:"cn",title:"",answer:[{answer_id:1,description:"选项1"}],line_answer:{line_value:1,line_end_value:5,line_tag:"",line_end_tag:""},text_answer:""}]}]});l(!0);const H=l(0);function $(){t.value=!1}function B({relatedContext:e,draggedContext:n}){const t=e.index,l=n.index;e.element.question_id=l+1,n.element.question_id=t+1}function K(e){const n=e.target.classList;n.contains("add-list")||n.contains("el-icon-plus")||(H.value="title")}function M(e,n){!function(e){const n=e.length?Number.parseInt(e[e.length-1].description.substr(2))+1:1,t=`选项${n}`;e.push({answer_id:e.length+1,description:t}),x((()=>{const e=document.querySelectorAll(".radio-input");e[e.length-1].focus()}))}(G.value.question[e].content[n].answer)}function P(){const e=T.value.map((e=>N.value[O.value.indexOf(e)])).map((e=>({language:e,title:"",answer:[{answer_id:1,description:"选项1"}],line_answer:{line_value:1,line_end_value:5,line_tag:"",line_end_tag:""},text_answer:""}))),n={question_id:G.value.question.length+1,types:"单选题",is_required:!1,content:e};G.value.question.push(n),H.value=G.value.question.length-1}function Q(e){console.log("submit",JSON.stringify(G.value))}return l(!1),(e,l)=>{const x=C,N=k,O=h,T=w,R=p("draggable"),W=j;return v(),i("div",n,[s(J)?(v(),a(x,{key:0,type:"spinner"})):o("",!0),u("div",b,[u("div",F,[u("div",{class:c(["item title",{"title-focus":"title"===s(H)}]),onClick:K},[s(G).question[0].length?o("",!0):(v(),i("div",{key:0,class:"add-list",onClick:P},[d(N,{name:"plus"})]))],2),u("div",V,[d(W,{onSubmit:Q},{default:r((()=>[(v(!0),i(g,null,y(s(G).question,((n,p)=>(v(),a(R,{key:p,list:s(G).question,move:B,onStart:l[1]||(l[1]=e=>t.value=!0),onEnd:$},{default:r((()=>[u("div",{class:c(["q-li",{"q-li-focus":s(H)===p}]),onClick:e=>function(e,n){const t=e.target.classList;t.contains("el-icon-delete")||t.contains("icon-copy")||H.value===n||(H.value=n)}(e,p)},[u("div",U,[d(N,{name:"drag"})]),(v(!0),i(g,null,y(n.content,((t,x)=>(v(),i("div",{key:x},[d(T,{inset:""},{default:r((()=>[d(O,{modelValue:t.title,"onUpdate:modelValue":e=>t.title=e,class:"form-cell-group",label:"问题：","label-width":"auto",center:"",clearable:"",placeholder:"请输入问题",onFocus:e.autoText,onInput:e.autoText},null,8,["modelValue","onUpdate:modelValue","onFocus","onInput"]),(v(!0),i(g,null,y(t.answer,((e,t)=>(v(),i("div",{key:t,class:"q-radio"},[["下拉列表","优先级"].includes(n.types)?(v(),i("div",I,_(t+1)+".",1)):(v(),i("div",{key:1,class:c(["icon-radio",{"icon-cirle":"单选题"===n.types,"icon-square":"多选题"===n.types}])},null,2)),m(u("input",{"onUpdate:modelValue":n=>e.description=n,class:"radio-input"},null,8,L),[[f,e.description]]),s(H)===p?(v(),a(N,{key:2,name:"cross",onClick:e=>function(e,n,t){G.value.question[e].content[n].answer.splice(t,1)}(p,x,t)},null,8,["onClick"])):o("",!0)])))),128)),s(H)===p?(v(),i("div",z,[["下拉列表","优先级"].includes(n.types)?(v(),i("div",A,_(t.answer.length+1)+".",1)):(v(),i("div",{key:1,class:c(["icon-radio",{"icon-cirle":"单选题"===n.types,"icon-square":"多选题"===n.types}])},null,2)),m(u("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>q(D)?D.value=e:null),class:"radio-add",onFocus:e=>M(p,x)},null,40,E),[[f,s(D)]])])):o("",!0)])),_:2},1024)])))),128))],10,S)])),_:2},1032,["list"])))),128))])),_:1})])])])])}}}))}}}));
