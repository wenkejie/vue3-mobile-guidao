System.register(["./index-legacy-C7g6TEdz.js","./index-legacy-B3Av6Txk.js","./index-legacy-yqi55t_a.js","./index-legacy-DYOp3raF.js","./index-legacy-B1OZR7xd.js","./index-legacy-gP0RaK7N.js","./index-legacy-B4cqeJ0R.js","./index-legacy-BW_hwWv8.js","./use-id-legacy-C-0XbuH5.js"],(function(e,n){"use strict";var t,l,a,i,s,o,u,c,d,r,p,v,y,m,g,_,q,f,x,k,w,h,C,V,j,b;return{setters:[e=>{t=e.d,l=e.r,a=e.k,i=e.h,s=e.e,o=e.C,u=e.p,c=e.D,d=e.E,r=e.G,p=e.g,v=e.f,y=e.H,m=e.o,g=e.F,_=e.m,q=e.z,f=e.j,x=e.J,k=e.I},e=>{w=e.C},null,e=>{h=e.F},e=>{C=e.D,V=e.a},e=>{j=e.F},e=>{b=e.L},null,null],execute:function(){const n={class:"form-create-wrap"},F={class:"wrap"},U={class:"content-wrap"},T={class:"li"},I={class:"q-wrap"},S=["onClick"],D={class:"drap-area"},L={key:0,class:"q-item"},z={key:0,class:"icon-radio"},E=["onUpdate:modelValue"],J={key:0,class:"q-radio"},N={key:0,class:"icon-radio"},O=["onFocus"],A={key:1,class:"q-item text-wrap"},G={key:2,class:"q-item option-wrap pt10"};e("default",t({__name:"createFrom",setup(e){const t=l(!1);l(!1);const H=l(!1),$=l([{value:"单选题",text:"单选题"},{value:"多选题",text:"多选题"},{value:"文本题",text:"文本题"}]),B=l(["cn","en","kr","jp","fr","de","ru","sp","po","it","nl","id","tr","thai","zh","fa","ro","ar"]),K=l(["中文","英语","韩语","日语","法语","德语","俄语","西班牙语","葡萄牙语","意大利语","荷兰语","印度语","土耳其语","泰语","繁体中文","波斯语","罗马尼亚语","阿拉伯语"]);l("英语"),l("中文");const M=l(["中文"]);l(!1),l("单选题");const P=l("添加选项");l([0,1]),l([5,10]),l([]);const Q=l({display_name:"",name:[{questionnaire_name:"",desc:"",language:"cn"}],repeat_submit:!1,question:[{question_id:1,types:"单选题",is_required:!1,content:[{language:"cn",title:"",answer:[{answer_id:1,description:"选项1"}],line_answer:{line_value:1,line_end_value:5,line_tag:"",line_end_tag:""},text_answer:""}]}]});l(!0);const R=l(0);function W(){t.value=!1}function X({relatedContext:e,draggedContext:n}){const t=e.index,l=n.index;e.element.question_id=l+1,n.element.question_id=t+1}function Y(e){const n=e.target.classList;n.contains("add-list")||n.contains("el-icon-plus")||(R.value="title")}function Z(e,n){!function(e){const n=e.length?Number.parseInt(e[e.length-1].description.substr(2))+1:1,t=`选项${n}`;e.push({answer_id:e.length+1,description:t}),x((()=>{const e=document.querySelectorAll(".radio-input");e[e.length-1].focus()}))}(Q.value.question[e].content[n].answer)}function ee(){const e=M.value.map((e=>B.value[K.value.indexOf(e)])).map((e=>({language:e,title:"",answer:[{answer_id:1,description:"选项1"}],line_answer:{line_value:1,line_end_value:5,line_tag:"",line_end_tag:""},text_answer:""}))),n={question_id:Q.value.question.length+1,types:"单选题",is_required:!1,content:e};Q.value.question.push(n),R.value=Q.value.question.length-1}function ne(e){console.log("submit",JSON.stringify(Q.value))}return l(!1),(e,l)=>{const x=b,B=k,K=C,M=V,te=h,le=w,ae=y("draggable"),ie=j;return m(),a("div",n,[i(H)?(m(),s(x,{key:0,type:"spinner"})):o("",!0),u("div",F,[u("div",U,[u("div",{class:c(["item title",{"title-focus":"title"===i(R)}]),onClick:Y},[u("div",T,[d(u("textarea",{"onUpdate:modelValue":l[0]||(l[0]=e=>i(Q).display_name=e),class:"form-title",placeholder:"表单标题",onFocus:l[1]||(l[1]=(...n)=>e.autoText&&e.autoText(...n)),onInput:l[2]||(l[2]=(...n)=>e.autoText&&e.autoText(...n))},null,544),[[r,i(Q).display_name]])]),i(Q).question[0].length?o("",!0):(m(),a("div",{key:0,class:"add-list",onClick:ee},[p(B,{name:"plus"})]))],2),u("div",I,[p(ie,{onSubmit:ne},{default:v((()=>[(m(!0),a(g,null,_(i(Q).question,((n,y)=>(m(),s(ae,{key:y,list:i(Q).question,move:X,onStart:l[4]||(l[4]=e=>t.value=!0),onEnd:W},{default:v((()=>[u("div",{class:c(["q-li",{"q-li-focus":i(R)===y}]),onClick:e=>function(e,n){const t=e.target.classList;t.contains("el-icon-delete")||t.contains("icon-copy")||R.value===n||(R.value=n)}(e,y)},[u("div",D,[p(B,{name:"drag"})]),(m(!0),a(g,null,_(n.content,((t,x)=>(m(),a("div",{key:x},[p(le,{inset:""},{default:v((()=>[p(te,{modelValue:t.title,"onUpdate:modelValue":e=>t.title=e,class:"form-cell-group",label:"问题：","label-width":"auto",center:"",clearable:"",placeholder:"请输入问题",onFocus:e.autoText,onInput:e.autoText},{button:v((()=>[i(R)===y?(m(),s(M,{key:0},{default:v((()=>[p(K,{modelValue:n.types,"onUpdate:modelValue":e=>n.types=e,options:i($)},null,8,["modelValue","onUpdate:modelValue","options"])])),_:2},1024)):o("",!0)])),_:2},1032,["modelValue","onUpdate:modelValue","onFocus","onInput"]),["下拉列表","单选题","多选题"].includes(n.types)?(m(),a("div",L,[(m(!0),a(g,null,_(t.answer,((e,t)=>(m(),a("div",{key:t,class:"q-radio"},[["下拉列表","优先级"].includes(n.types)?(m(),a("div",z,q(t+1)+".",1)):(m(),a("div",{key:1,class:c(["icon-radio",{"icon-cirle":"单选题"===n.types,"icon-square":"多选题"===n.types}])},null,2)),d(u("input",{"onUpdate:modelValue":n=>e.description=n,class:"radio-input"},null,8,E),[[r,e.description]]),i(R)===y?(m(),s(B,{key:2,name:"cross",onClick:e=>function(e,n,t){Q.value.question[e].content[n].answer.splice(t,1)}(y,x,t)},null,8,["onClick"])):o("",!0)])))),128)),i(R)===y?(m(),a("div",J,[["下拉列表","优先级"].includes(n.types)?(m(),a("div",N,q(t.answer.length+1)+".",1)):(m(),a("div",{key:1,class:c(["icon-radio",{"icon-cirle":"单选题"===n.types,"icon-square":"多选题"===n.types}])},null,2)),d(u("input",{"onUpdate:modelValue":l[3]||(l[3]=e=>f(P)?P.value=e:null),class:"radio-add",onFocus:e=>Z(y,x)},null,40,O),[[r,i(P)]])])):o("",!0)])):o("",!0),"文本题"===n.types?(m(),a("div",A,"文本回答")):o("",!0),i(R)===y?(m(),a("div",G,[p(B,{name:"delete",onClick:e=>{return n=y,Q.value.question.splice(n,1),void(R.value=0===n&&Q.value.question.length>0?n:n-1);var n}},null,8,["onClick"])])):o("",!0)])),_:2},1024)])))),128))],10,S)])),_:2},1032,["list"])))),128))])),_:1})])])])])}}}))}}}));
